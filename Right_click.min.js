"use strict";let right_click=class{constructor(right_click_element,display_type="block"){this.elem=right_click_element,this.display_type=display_type,document.addEventListener?(document.addEventListener("contextmenu",(event=>{this.open_event(event),event.preventDefault()}),!1),document.addEventListener("click",(e=>this.close(e)))):document.attachEvent("oncontextmenu",(function(){this.open_event(),window.event.returnValue=!1})),this.fix_elem(),this.elem.style.display="none"}open_event(event=undefined){let evt=event||window.event;if(evt.pageY&&evt.pageX){const{pageX:pageX,pageY:pageY}=evt,{normalizedX:normalizedX,normalizedY:normalizedY}=this.normalizePozition(pageX,pageY);return this.open_at(normalizedX,normalizedY)}if(evt.clientY&&evt.clientX){const{clientX:mouseX,clientY:mouseY}=evt,{normalizedX:normalizedX,normalizedY:normalizedY}=this.normalizePozition(clientX,clientY);return this.open_at(normalizedX,normalizedY)}return null}fix_elem(){this.elem.style["z-index"]=1e5,this.elem.style.position="absolute"}open_at(x,y){this.elem.style.display=this.display_type,this.elem.style.top=`${y}px`,this.elem.style.left=`${x}px`}close(event){event.target.offsetParent!=this.elem&&(this.elem.style.display="none")}normalizePozition(mouseX,mouseY){let scope=document.querySelector("body"),contextMenu=this.elem;const{left:scopeOffsetX,top:scopeOffsetY}=scope.getBoundingClientRect(),scopeY=mouseY-scopeOffsetY,outOfBoundsOnX=mouseX-scopeOffsetX+contextMenu.clientWidth>scope.clientWidth,outOfBoundsOnY=scopeY+contextMenu.clientHeight>scope.clientHeight;let normalizedX=mouseX,normalizedY=mouseY;return outOfBoundsOnX&&(normalizedX=scopeOffsetX+scope.clientWidth-contextMenu.clientWidth),outOfBoundsOnY&&(normalizedY=scopeOffsetY+scope.clientHeight-contextMenu.clientHeight),{normalizedX:normalizedX,normalizedY:normalizedY}}};const block_right_click=class{constructor(){document.addEventListener?document.addEventListener("contextmenu",(event=>event.preventDefault()),!1):document.attachEvent("oncontextmenu",(()=>{window.event.returnValue=!1}))}};