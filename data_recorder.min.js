"use strict";var userActions=[],start_time=null,max_data_len=1e6;function sendData(encoder=JSON.stringify){var encoded=encoder(userActions);if(!(encoded.length<max_data_len)){var xhr=new XMLHttpRequest;xhr.open("POST",window.customDataDumpURL||"/data",!0),xhr.setRequestHeader("Content-Type","application/json"),xhr.send(encoded)}}function addEventListeners(target){(target="string"==typeof target?document.querySelector(target):document.body).addEventListener("copy",(event=>recordEvent({name:"copy",data:event.clipboardData.getData("text/plain")},event))),target.addEventListener("cut",(event=>recordEvent({name:"cut",data:event.clipboardData.getData("text/plain")},event))),target.addEventListener("paste",(event=>recordEvent({name:"paste",data:event.clipboardData.getData("text/plain")},event))),target.addEventListener("keydown",(event=>recordEvent({name:"keydown",data:event.key},event))),target.addEventListener("keyup",(event=>recordEvent({name:"keyup",data:event.key},event))),document.onmouseup=event=>recordEvent({name:"mouseup",data:{x:event.clientX,y:event.clientY}},event),document.onmousedown=event=>recordEvent({name:"mousedown",data:{x:event.clientX,y:event.clientY}},event),document.onmousemove=event=>recordEvent({name:"mousemove",data:{x:event.clientX,y:event.clientY}},event),target.addEventListener("dragstart",(e=>recordEvent({name:"dragstart",data:{x:e.clientX,y:e.clientY}},e))),target.addEventListener("dragend",(e=>recordEvent({name:"dragend",data:{x:e.clientX,y:e.clientY}},e))),target.addEventListener("drop",(e=>recordEvent({name:"drop",data:{x:e.clientX,y:e.clientY}},e))),window.addEventListener("focus",(event=>recordEvent({name:"focus"},event))),window.addEventListener("blur",(event=>recordEvent({name:"blur"},event))),start_time=(new Date).getTime();let i=function(i){return navigator.userAgent.match(i)};var OS=i("Win")?"Windows":i("Mac")?"Macintosh":i("Linux")?"Linux":i("Android")?"Android":i("like Mac")?"iOS":"Unknown";recordEvent({name:"page_load",target:document.body,data:{OS:OS},timeStamp:start_time})}function recordEvent({name:name,data:data,timeStamp:timeStamp},raw_event){if(!raw_event||raw_event.isTrusted){timeStamp=timeStamp||(new Date).getTime()-start_time;var new_data={name:name,target:getDomPath(raw_event&&(raw_event.target||raw_event.srcElement)||document.body),data:data,timeStamp:timeStamp};userActions.push(new_data),sendData()}}function isPageLoaded(){"complete"==document.readyState&&addEventListeners()}function getDomPath(el){for(var stack=[];null!=el.parentNode;){for(var sibCount=0,sibIndex=0,i=0;i<el.parentNode.childNodes.length;i++){var sib=el.parentNode.childNodes[i];sib.nodeName==el.nodeName&&(sib===el&&(sibIndex=sibCount),sibCount++)}el.hasAttribute("id")&&""!=el.id?stack.unshift(el.nodeName.toLowerCase()+"#"+el.id):sibCount>1?stack.unshift(el.nodeName.toLowerCase()+":eq("+sibIndex+")"):stack.unshift(el.nodeName.toLowerCase()),el=el.parentNode}return stack.slice(1).join(" > ")}isPageLoaded(),document.addEventListener("readystatechange",isPageLoaded);